{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Routes,Route,Navigate,Link,useNavigate,useLocation}from'react-router-dom';import Home from'./pages/Home';import Login from'./pages/Login';import Register from'./pages/Register';import Dashboard from'./pages/Dashboard';import ChallengeList from'./pages/ChallengeList';import ChallengeDetail from'./pages/ChallengeDetail';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const App=()=>{const[isLoggedIn,setIsLoggedIn]=useState(false);const[isLightMode,setIsLightMode]=useState(false);const navigate=useNavigate();const location=useLocation();// On mount, restore login + theme\nuseEffect(()=>{if(localStorage.getItem('token')){setIsLoggedIn(true);}if(localStorage.getItem('theme')==='light'){document.body.classList.add('light-mode');setIsLightMode(true);}},[]);const handleLogout=()=>{localStorage.removeItem('token');setIsLoggedIn(false);navigate('/login',{replace:true});};const toggleLightMode=()=>{const next=!isLightMode;document.body.classList.toggle('light-mode',next);setIsLightMode(next);localStorage.setItem('theme',next?'light':'dark');};const navBtnStyle={padding:'6px 12px',fontSize:'14px',marginLeft:'0.5rem'};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"header-logo\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"img\",{src:isLightMode?`${process.env.PUBLIC_URL}/media/ninjatp.png`:`${process.env.PUBLIC_URL}/media/ninjatpd.png`,alt:\"Home\",className:\"ninja-logo\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"navbar\",style:{position:'fixed',top:'10px',left:'10px',display:'flex',alignItems:'center',gap:'0.5rem',zIndex:1000},children:[/*#__PURE__*/_jsx(\"button\",{className:\"light-mode-btn\",onClick:toggleLightMode,style:navBtnStyle,children:isLightMode?'Dark Mode':'Light Mode'}),isLoggedIn&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{to:\"/dashboard\",style:{textDecoration:'none'},children:/*#__PURE__*/_jsx(\"button\",{className:\"enter-btn\",style:navBtnStyle,children:\"Dashboard\"})}),/*#__PURE__*/_jsx(Link,{to:\"/challenges\",style:{textDecoration:'none'},children:/*#__PURE__*/_jsx(\"button\",{className:\"enter-btn\",style:navBtnStyle,children:\"Challenges\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"logout-btn\",onClick:handleLogout,style:navBtnStyle,children:\"Logout\"})]})]}),/*#__PURE__*/_jsx(\"main\",{style:{paddingTop:'60px'},children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:isLoggedIn?/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\",replace:true}):/*#__PURE__*/_jsx(Login,{setIsLoggedIn:setIsLoggedIn})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:isLoggedIn?/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\",replace:true}):/*#__PURE__*/_jsx(Register,{})}),/*#__PURE__*/_jsx(Route,{path:\"/dashboard\",element:isLoggedIn?/*#__PURE__*/_jsx(Dashboard,{handleLogout:handleLogout}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true})}),/*#__PURE__*/_jsx(Route,{path:\"/challenges\",element:isLoggedIn?/*#__PURE__*/_jsx(ChallengeList,{}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true})}),/*#__PURE__*/_jsx(Route,{path:\"/challenges/:id\",element:isLoggedIn?/*#__PURE__*/_jsx(ChallengeDetail,{}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:isLoggedIn?/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\",replace:true}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true})})]})})]});};export default App;","map":{"version":3,"names":["React","useState","useEffect","Routes","Route","Navigate","Link","useNavigate","useLocation","Home","Login","Register","Dashboard","ChallengeList","ChallengeDetail","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","App","isLoggedIn","setIsLoggedIn","isLightMode","setIsLightMode","navigate","location","localStorage","getItem","document","body","classList","add","handleLogout","removeItem","replace","toggleLightMode","next","toggle","setItem","navBtnStyle","padding","fontSize","marginLeft","children","className","to","src","process","env","PUBLIC_URL","alt","style","position","top","left","display","alignItems","gap","zIndex","onClick","textDecoration","paddingTop","path","element"],"sources":["C:/Users/tay/Documents/GitHub/CodeDojo-Frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport {\r\n    Routes,\r\n    Route,\r\n    Navigate,\r\n    Link,\r\n    useNavigate,\r\n    useLocation\r\n} from 'react-router-dom';\r\n\r\nimport Home from './pages/Home';\r\nimport Login from './pages/Login';\r\nimport Register from './pages/Register';\r\nimport Dashboard from './pages/Dashboard';\r\nimport ChallengeList from './pages/ChallengeList';\r\nimport ChallengeDetail from './pages/ChallengeDetail';\r\n\r\nconst App = () => {\r\n    const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n    const [isLightMode, setIsLightMode] = useState(false);\r\n    const navigate = useNavigate();\r\n    const location = useLocation();\r\n\r\n    // On mount, restore login + theme\r\n    useEffect(() => {\r\n        if (localStorage.getItem('token')) {\r\n            setIsLoggedIn(true);\r\n        }\r\n        if (localStorage.getItem('theme') === 'light') {\r\n            document.body.classList.add('light-mode');\r\n            setIsLightMode(true);\r\n        }\r\n    }, []);\r\n\r\n    const handleLogout = () => {\r\n        localStorage.removeItem('token');\r\n        setIsLoggedIn(false);\r\n        navigate('/login', { replace: true });\r\n    };\r\n\r\n    const toggleLightMode = () => {\r\n        const next = !isLightMode;\r\n        document.body.classList.toggle('light-mode', next);\r\n        setIsLightMode(next);\r\n        localStorage.setItem('theme', next ? 'light' : 'dark');\r\n    };\r\n\r\n    const navBtnStyle = { padding: '6px 12px', fontSize: '14px', marginLeft: '0.5rem' };\r\n\r\n    return (\r\n        <>\r\n            {/* Logo */}\r\n            <div className=\"header-logo\">\r\n                <Link to=\"/\">\r\n                    <img\r\n                        src={\r\n                            isLightMode\r\n                                ? `${process.env.PUBLIC_URL}/media/ninjatp.png`\r\n                                : `${process.env.PUBLIC_URL}/media/ninjatpd.png`\r\n                        }\r\n                        alt=\"Home\"\r\n                        className=\"ninja-logo\"\r\n                    />\r\n                </Link>\r\n            </div>\r\n\r\n            {/* Fixed Navbar */}\r\n            <div\r\n                className=\"navbar\"\r\n                style={{\r\n                    position: 'fixed',\r\n                    top: '10px',\r\n                    left: '10px',\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    gap: '0.5rem',\r\n                    zIndex: 1000\r\n                }}\r\n            >\r\n                <button className=\"light-mode-btn\" onClick={toggleLightMode} style={navBtnStyle}>\r\n                    {isLightMode ? 'Dark Mode' : 'Light Mode'}\r\n                </button>\r\n\r\n                {isLoggedIn && (\r\n                    <>\r\n                        <Link to=\"/dashboard\" style={{ textDecoration: 'none' }}>\r\n                            <button className=\"enter-btn\" style={navBtnStyle}>Dashboard</button>\r\n                        </Link>\r\n                        <Link to=\"/challenges\" style={{ textDecoration: 'none' }}>\r\n                            <button className=\"enter-btn\" style={navBtnStyle}>Challenges</button>\r\n                        </Link>\r\n                        <button className=\"logout-btn\" onClick={handleLogout} style={navBtnStyle}>\r\n                            Logout\r\n                        </button>\r\n                    </>\r\n                )}\r\n            </div>\r\n\r\n            {/* Push content down below navbar */}\r\n            <main style={{ paddingTop: '60px' }}>\r\n                <Routes>\r\n                    {/* Public */}\r\n                    <Route path=\"/\" element={<Home />} />\r\n                    <Route\r\n                        path=\"/login\"\r\n                        element={\r\n                            isLoggedIn\r\n                                ? <Navigate to=\"/dashboard\" replace />\r\n                                : <Login setIsLoggedIn={setIsLoggedIn} />\r\n                        }\r\n                    />\r\n                    <Route\r\n                        path=\"/register\"\r\n                        element={\r\n                            isLoggedIn\r\n                                ? <Navigate to=\"/dashboard\" replace />\r\n                                : <Register />\r\n                        }\r\n                    />\r\n\r\n                    {/* Protected */}\r\n                    <Route\r\n                        path=\"/dashboard\"\r\n                        element={\r\n                            isLoggedIn\r\n                                ? <Dashboard handleLogout={handleLogout} />\r\n                                : <Navigate to=\"/login\" replace />\r\n                        }\r\n                    />\r\n                    <Route\r\n                        path=\"/challenges\"\r\n                        element={\r\n                            isLoggedIn\r\n                                ? <ChallengeList />\r\n                                : <Navigate to=\"/login\" replace />\r\n                        }\r\n                    />\r\n                    <Route\r\n                        path=\"/challenges/:id\"\r\n                        element={\r\n                            isLoggedIn\r\n                                ? <ChallengeDetail />\r\n                                : <Navigate to=\"/login\" replace />\r\n                        }\r\n                    />\r\n\r\n                    {/* Fallback */}\r\n                    <Route\r\n                        path=\"*\"\r\n                        element={\r\n                            isLoggedIn\r\n                                ? <Navigate to=\"/dashboard\" replace />\r\n                                : <Navigate to=\"/login\" replace />\r\n                        }\r\n                    />\r\n                </Routes>\r\n            </main>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}